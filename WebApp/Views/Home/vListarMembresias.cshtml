@using WebApp.Models.Helpers;

<script src="~/Scripts/Views/vListarMembresias.js"></script>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@Html.CtrlTable(viewName: "vListarMembresias", id: "tblMembresias", title: "Lista de membresías",
    columnsTitle: "Nombre,Tipo,Precio,Vigencia(mm),Estado,Cuota por reagendar,Cuota por cancelar,Cuota por trabajo realizado,Empresa,Fecha",
    ColumnsDataName: "NombreMembresia,TipoMembresia,Precio,VigenciaMeses,Estado,FeeReagendar,FeeCancelar,FeeServicio,NombreEmpresa,FechaContratacionS",
    onSelectFunction: "BindFields", colorHeader: "white")

<div class="card border-secondary" style="margin-top: 50px;">
    <div class="card-header">
        <div class="row pull-right">
            <div class="col-md-8">Editar membresías</div>
            <div class="col-md-4">
                @Html.CtrlButton(viewName: "vListarMembresias", id: "btnUpdate", label: "Guardar cambios", onClickFunction: "Update", buttonType: "info")
                @Html.CtrlButton(viewName: "vListarMembresias", id: "btnDelete", label: "Eliminar", onClickFunction: "Delete", buttonType: "danger", 
               dataToggle: "modal", dataTarget: "#modalEliminarMembresia")

            </div>
        </div>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-lg-12">
                <div class="bs-component">
                    <form id="frmEdicion">
                        <div class="row">
                            <div class="col-md-6">
                                <div id="divId">
                                    @Html.CtrlInput(id: "txtIdMembresia", type: "text", label: "Id", columnDataName: "IdMembresia")

                                    </div>
                                    @Html.CtrlInputRequeridedModel(id: "txtNombreMembresia", type: "text", label: "Nombre", columnDataName: "NombreMembresia",
                              ariaDescribedby: "nombreEmpresa", idSmall: "nombreEmpresa")
                                    @Html.CtrlDropDownWithList(id: "selectTipoMembresia", label: "Tipo Membresía", listOpt: "--Seleccione una opción--,premium,básica", columnDataName: "TipoMembresia")
                                    @Html.CtrlInputMonedaModel(id: "txtPrecio", type: "text", label: "Precio", columnDataName: "Precio", ariaDescribedby: "valPrecio",
                                    idSmall: "valPrecio", pattern: @"^\$\d{1,3}(,\d{3})*(\.\d+)?$", min: "0", name: "currency-field", dataType: "currency")
                                    @Html.CtrlInputRequeridedModel(id: "txtVigenciaMeses", type: "number", label: "Vigencia(meses)", columnDataName: "VigenciaMeses",
                          ariaDescribedby: "vigencia", idSmall: "vigencia", min: "0")
                                    @Html.CtrlInput(id: "txtEstado", type: "text", label: "Estado", columnDataName: "Estado")
                                </div>

                                <div class="col-md-6">
                                    @Html.CtrlInputMonedaModel(id: "txtFeeReagendar", type: "text", label: "Cuota por reagendar", columnDataName: "FeeReagendar", ariaDescribedby: "valFeeReagendar",
                                idSmall: "valFeeReagendar", pattern: @"^\$\d{1,3}(,\d{3})*(\.\d+)?$", min: "0", name: "currency-field", dataType: "currency")

                                    @Html.CtrlInputMonedaModel(id: "txtFeeCancelar", type: "text", label: "Cuota por cancelar", columnDataName: "FeeCancelar", ariaDescribedby: "valFeeReagendar",
                                    idSmall: "valFeeReagendar", pattern: @"^\$\d{1,3}(,\d{3})*(\.\d+)?$", min: "0", name: "currency-field", dataType: "currency")



                                    @Html.CtrlInputMonedaModel(id: "txtFeeServicio", type: "text", label: "Cuota por trabajo realizado", columnDataName: "FeeServicio", ariaDescribedby: "feeServicio",
                           idSmall: "feeServicio", pattern: @"^\$\d{1,3}(,\d{3})*(\.\d+)?$", min: "0", name: "currency-field", dataType: "percent")

                                    @Html.CtrlInput(id: "txtNombreEmpresa", type: "text", label: "Empresa", columnDataName: "NombreEmpresa")
                                    @Html.CtrlInput(id: "txtFechaContratacion", type: "text", label: "Fecha de contratación", columnDataName: "FechaContratacionS")
                                </div>
                            </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@Html.CtrlModalModel(idModal: "modalEliminarMembresia", title: "Confirmación",
    idParrafo: "parrafoModalEliminarMembresia", viewName: "vListarMembresias", id: "btnEliminarMembresia", label: "Confirmar", onClickFunction: "redireccionar", buttonType: "info")


